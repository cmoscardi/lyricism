<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="static/js/d3.v2.min.js"></script>
    <script>
      function draw(data){
        "use strict";
        d3.select("body")
        .append("ul")
        .selectAll("li")
        .data(data.results)
        .enter()
        .append("li")
        .text( function(d) {
          return d.name +":"+ d.count
        });
      }
      
      function bar_chart(data){
        "use strict";
        d3.select("#chart_area")
          .append("div")
            .attr("class","bar_chart")
          .selectAll(".bar")
          .data(data.counts)
          .enter()
          .append("div")
            .attr("class","bar")
            .style("width", function(d){return d.count/10 + "px"})
            .style("outline","1px solid black")
            .text(function(d){return d.count});
      
      }
    </script>
  </head>
  <body>
    <script>
      d3.json("/data/?q={{query}}",draw);
    </script>
  </body>
</html>
